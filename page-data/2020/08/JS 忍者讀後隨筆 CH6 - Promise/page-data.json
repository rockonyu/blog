{"componentChunkName":"component---src-templates-posts-tsx","path":"/2020/08/JS 忍者讀後隨筆 CH6 - Promise/","result":{"data":{"site":{"siteMetadata":{"title":"Austin Chang"}},"markdownRemark":{"id":"6da7578d-dec7-5f48-8967-d57b89aed0a6","excerpt":"簡單的筆記與紀錄額外參考，原作：忍者：JavaScript  開發技巧探秘 Generator 使用生成器函式建立迭代器物件 使用  將任務委派給其他生成器 ref: https://zh.javascript.info/generators Promise Using async/await with a…","html":"<p>簡單的筆記與紀錄額外參考，原作：<a href=\"https://www.books.com.tw/products/0010701459\" target=\"_blank\">忍者：JavaScript  開發技巧探秘</a></p>\n<h2>Generator</h2>\n<p>使用生成器函式建立迭代器物件</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">WeaponGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token string\">\"Katana\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> weaponsIterator <span class=\"token operator\">=</span> <span class=\"token function\">WeaponGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> result1 <span class=\"token operator\">=</span> weaponsIterator<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>使用 <code class=\"language-text\">yield*</code> 將任務委派給其他生成器</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">WarriorGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token string\">\"Sun Tzu\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span><span class=\"token operator\">*</span> <span class=\"token function\">NinjaGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token string\">\"Genghis Khan\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">NinjaGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token string\">\"Hattori\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token string\">\"Yoshi\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> warrior <span class=\"token keyword\">of</span> <span class=\"token function\">WarriorGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ref:</h3>\n<p><a href=\"https://zh.javascript.info/generators\">https://zh.javascript.info/generators</a></p>\n<h2>Promise</h2>\n<p>Using async/await with a forEach loop\n<a href=\"https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop\">https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop</a></p>\n<h3>ref:</h3>\n<ul>\n<li><code class=\"language-text\">finally</code> 使用時機 - <a href=\"https://zh.javascript.info/promise-basics#finally\">https://zh.javascript.info/promise-basics#finally</a></li>\n<li>錯誤處理 - <a href=\"https://zh.javascript.info/promise-error-handling#qi-ta\">https://zh.javascript.info/promise-error-handling#qi-ta</a></li>\n<li>async await - <a href=\"https://zh.javascript.info/async-await\">https://zh.javascript.info/async-await</a></li>\n<li>\n<p>Microtask Queue</p>\n<ul>\n<li><a href=\"https://zh.javascript.info/microtask-queue\">https://zh.javascript.info/microtask-queue</a></li>\n<li><a href=\"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/\">https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"JS 忍者讀後隨筆 CH6 - Promise","date":"2020/8/9","description":null}}},"pageContext":{"slug":"/2020/08/JS 忍者讀後隨筆 CH6 - Promise/","previous":{"fields":{"slug":"/2020/07/JS 忍者讀後隨筆 CH5/"},"frontmatter":{"title":"JS 忍者讀後隨筆 CH5","tags":["JS Ninja"]}},"next":{"fields":{"slug":"/2020/08/JS 忍者讀後隨筆 CH7 - 原型/"},"frontmatter":{"title":"JS 忍者讀後隨筆 CH7 - 以原型實現物件導向","tags":["JS Ninja"]}}}}}